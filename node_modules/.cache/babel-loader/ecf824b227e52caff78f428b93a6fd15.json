{"ast":null,"code":"const express = require('express');\n\nconst path = require('path');\n\nconst fs = require('fs');\n\nconst os = require('os');\n\nconst app = express();\n\nconst cart = require('./cartRouter'); //обработчик всех запросов корзины\n\n\napp.use(express.json());\napp.use(express.static(path.join(__dirname, '../../dist'))); // app.use('/', express.static('./public/'));\n\napp.use('/api/cart', cart); // app.get();\n// app.post();\n// app.put();\n// app.delete();\n\napp.get('/', (req, res) => {\n  res.sendFile(path.join(__dirname, '../../public/index.html'));\n});\napp.get('/api/products', (req, res) => {\n  fs.readFile('src/server/db/products.json', 'utf-8', (err, data) => {\n    if (err) {\n      res.sendStatus(404, JSON.stringify({\n        result: 0,\n        text: err\n      }));\n    } else {\n      res.send(data);\n    }\n  });\n}); // app.get('/api/cart/:id', (req, res) => {\n//    // res.send(req.params.id);\n//     res.send(req.query);\n// });\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => console.log(`Listen on port ${port}...`)); // console.log(`Hello, ${os.userInfo().username}`);","map":{"version":3,"names":["express","require","path","fs","os","app","cart","use","json","static","join","__dirname","get","req","res","sendFile","readFile","err","data","sendStatus","JSON","stringify","result","text","send","port","process","env","PORT","listen","console","log"],"sources":["/Users/denis/gb_online_store/src/server/server.js"],"sourcesContent":["const express = require('express');\nconst path = require('path');\n\nconst fs = require('fs');\nconst os = require('os');\nconst app = express();\nconst cart = require('./cartRouter');//обработчик всех запросов корзины\n\napp.use(express.json());\napp.use(express.static(path.join(__dirname, '../../dist')));\n\n// app.use('/', express.static('./public/'));\napp.use('/api/cart', cart);\n\n\n// app.get();\n// app.post();\n// app.put();\n// app.delete();\n\napp.get('/', (req,res) => {\n    res.sendFile(path.join(__dirname, '../../public/index.html'));\n  });\n\n\napp.get('/api/products', (req, res) => {\n    fs.readFile('src/server/db/products.json', 'utf-8', (err, data) => {\n        if(err){\n            res.sendStatus(404, JSON.stringify({result:0, text: err}));\n        } else {\n            res.send(data);\n        }\n    })\n});\n\n// app.get('/api/cart/:id', (req, res) => {\n//    // res.send(req.params.id);\n//     res.send(req.query);\n// });\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => console.log(`Listen on port ${port}...`));\n\n// console.log(`Hello, ${os.userInfo().username}`);\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMG,EAAE,GAAGH,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMI,GAAG,GAAGL,OAAO,EAAnB;;AACA,MAAMM,IAAI,GAAGL,OAAO,CAAC,cAAD,CAApB,C,CAAqC;;;AAErCI,GAAG,CAACE,GAAJ,CAAQP,OAAO,CAACQ,IAAR,EAAR;AACAH,GAAG,CAACE,GAAJ,CAAQP,OAAO,CAACS,MAAR,CAAeP,IAAI,CAACQ,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAf,CAAR,E,CAEA;;AACAN,GAAG,CAACE,GAAJ,CAAQ,WAAR,EAAqBD,IAArB,E,CAGA;AACA;AACA;AACA;;AAEAD,GAAG,CAACO,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAKC,GAAL,KAAa;EACtBA,GAAG,CAACC,QAAJ,CAAab,IAAI,CAACQ,IAAL,CAAUC,SAAV,EAAqB,yBAArB,CAAb;AACD,CAFH;AAKAN,GAAG,CAACO,GAAJ,CAAQ,eAAR,EAAyB,CAACC,GAAD,EAAMC,GAAN,KAAc;EACnCX,EAAE,CAACa,QAAH,CAAY,6BAAZ,EAA2C,OAA3C,EAAoD,CAACC,GAAD,EAAMC,IAAN,KAAe;IAC/D,IAAGD,GAAH,EAAO;MACHH,GAAG,CAACK,UAAJ,CAAe,GAAf,EAAoBC,IAAI,CAACC,SAAL,CAAe;QAACC,MAAM,EAAC,CAAR;QAAWC,IAAI,EAAEN;MAAjB,CAAf,CAApB;IACH,CAFD,MAEO;MACHH,GAAG,CAACU,IAAJ,CAASN,IAAT;IACH;EACJ,CAND;AAOH,CARD,E,CAUA;AACA;AACA;AACA;;AAEA,MAAMO,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAvB,GAAG,CAACwB,MAAJ,CAAWJ,IAAX,EAAiB,MAAMK,OAAO,CAACC,GAAR,CAAa,kBAAiBN,IAAK,KAAnC,CAAvB,E,CAEA"},"metadata":{},"sourceType":"script"}