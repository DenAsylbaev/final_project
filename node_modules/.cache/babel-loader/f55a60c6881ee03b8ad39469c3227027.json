{"ast":null,"code":"const express = require('express');\n\nconst fs = require('fs');\n\nconst router = express.Router();\n\nconst handler = require('./handler');\n\nrouter.get('/', (req, res) => {\n  fs.readFile('src/server/db/userCart.json', 'utf-8', (err, data) => {\n    if (err) {\n      res.sendStatus(404, JSON.stringify({\n        result: 0,\n        text: err\n      }));\n    } else {\n      res.send(data);\n    }\n  });\n});\nrouter.post('/', (req, res) => {\n  handler(req, res, 'add', 'src/server/db/userCart.json');\n});\nrouter.put('/:id', (req, res) => {\n  handler(req, res, 'change', 'src/server/db/userCart.json');\n});\nrouter.delete('/:id', (req, res) => {\n  handler(req, res, 'del', 'src/server/db/userCart.json');\n});\nmodule.exports = router;","map":{"version":3,"names":["express","require","fs","router","Router","handler","get","req","res","readFile","err","data","sendStatus","JSON","stringify","result","text","send","post","put","delete","module","exports"],"sources":["/Users/denis/gb_online_store/src/server/cartRouter.js"],"sourcesContent":["const express = require('express');\nconst fs = require('fs');\nconst router = express.Router();\nconst handler = require('./handler');\n\nrouter.get('/', (req, res) => {\n    fs.readFile('src/server/db/userCart.json', 'utf-8', (err, data) => {\n        if(err){\n            res.sendStatus(404, JSON.stringify({result:0, text: err}));\n        } else {\n            res.send(data);\n        }\n    })\n});\nrouter.post('/', (req, res) => {\n    handler(req, res, 'add', 'src/server/db/userCart.json');\n});\n\nrouter.put('/:id', (req, res) => {\n    handler(req, res, 'change', 'src/server/db/userCart.json');\n});\n\nrouter.delete('/:id', (req, res) => {\n    handler(req, res, 'del', 'src/server/db/userCart.json');\n});\n\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;;AACA,MAAMC,OAAO,GAAGJ,OAAO,CAAC,WAAD,CAAvB;;AAEAE,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;EAC1BN,EAAE,CAACO,QAAH,CAAY,6BAAZ,EAA2C,OAA3C,EAAoD,CAACC,GAAD,EAAMC,IAAN,KAAe;IAC/D,IAAGD,GAAH,EAAO;MACHF,GAAG,CAACI,UAAJ,CAAe,GAAf,EAAoBC,IAAI,CAACC,SAAL,CAAe;QAACC,MAAM,EAAC,CAAR;QAAWC,IAAI,EAAEN;MAAjB,CAAf,CAApB;IACH,CAFD,MAEO;MACHF,GAAG,CAACS,IAAJ,CAASN,IAAT;IACH;EACJ,CAND;AAOH,CARD;AASAR,MAAM,CAACe,IAAP,CAAY,GAAZ,EAAiB,CAACX,GAAD,EAAMC,GAAN,KAAc;EAC3BH,OAAO,CAACE,GAAD,EAAMC,GAAN,EAAW,KAAX,EAAkB,6BAAlB,CAAP;AACH,CAFD;AAIAL,MAAM,CAACgB,GAAP,CAAW,MAAX,EAAmB,CAACZ,GAAD,EAAMC,GAAN,KAAc;EAC7BH,OAAO,CAACE,GAAD,EAAMC,GAAN,EAAW,QAAX,EAAqB,6BAArB,CAAP;AACH,CAFD;AAIAL,MAAM,CAACiB,MAAP,CAAc,MAAd,EAAsB,CAACb,GAAD,EAAMC,GAAN,KAAc;EAChCH,OAAO,CAACE,GAAD,EAAMC,GAAN,EAAW,KAAX,EAAkB,6BAAlB,CAAP;AACH,CAFD;AAIAa,MAAM,CAACC,OAAP,GAAiBnB,MAAjB"},"metadata":{},"sourceType":"script"}